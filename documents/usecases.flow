<title>API User Cases</title>
<h2>API Use Cases</h2>

<a name="make-payment"></a>
<h4>Making a Payment</h4>
<p>One of the primary function of the nanopay system is to send payments. Whether it is sending money between two digital accounts, 
   between two bank accounts, across currencies or a combination of all these, the system is optimized to make these operations as 
   easy as possible. This section describes the different ways that a payment can be accomplished.</p>
<p><i>Describe the flow from account to account</i></p>
<p><i>Describe the flow from user to partner</i></p>

<a name="payable-invoice"></a>
<h4>Creating a Payable Invoice</h4>
<p>Now that we have seen how to make payments, let's change focus a bit and talk about how to keep track of those payments using 
   invoices. The payable invoice can be thought of as either an invoice that you receive from another user requesting money, or 
   one that you create yourself to track a payment that you need to make to a vendor. The invoice moves through stages and helps 
   you keep track of information regarding payments that you make so that you can better resolve those payments later when performing 
   accounting. The payment of the invoice is only one step in the process, albeit an important one.</p>
<p><i>Retrieve payable invoices sent externally</i></p>
<p><i>Create payable invoice</i></p>
<p><i>Link payable invoice to transaction</i></p>
<p><i>Link during transaction</i></p>
<p><i>Link after transaction</i></p>

<a name="receive-payment"></a>
<h4>Receiving a Payment</h4>
<p><i>How is a payment received?</i></p>

<a name="receivable-invoice"></a>
<h4>Creating and Sending a Receivable Invoice</h4>
<p><i>Describe the invoice entity</i></p>
<p><i>Create and send a receivable invoice</i></p>
<p><i>Create and link a receivable invoice</i></p>

<a name="case-users-groups"></a>
<h4>Working with Users and Groups</h4>
<h4>Retrieving Your Own User Record</h4>
<p>In order to do most operations in the system, you will need to provide your user ID. In order to get this you will have to perform
   a select query against the User DAO to retrieve your user record and extract your user ID.
   </p>
<foam class="foam.doc.DigSelectView" data="userDAO" sampelquery="email=john.smith@example.net" />
<p>Which will return a user record, which you have to extract the user ID out of:
  <pre>
    [{
        "class": "foam.nanos.auth.User",
        <b>"id": 5555</b>,
        "enabled": true,
        "firstName": "John",
        "lastName": "Smith",
        "email": "john.smith@example.net",
        "emailVerified": true,
        "language": "en",
        "group": "basicUser",
        "spid": "my-service-provider",
        "status": 2
    }]
  </pre>
</p>
<p><i>Creating initial user</i></p>
<p><i>Inviting other users</i></p>
<p><i>Creating a group</i></p>
<p><i>Setting permissions on a group</i></p>
<p><i>Adding a user to a group</i></p>

<a name="case-contacts-partners"></a>
<h4>Working with Contacts and Partners</h4>
<p><i>Difference between partners and contacts</i></p>
<p><i>Creating a contact</i></p>
<p><i>Finding a partner</i></p>

<a name="case-accounts"></a>
<h4>Working with Accounts</h4>
<h4>Adding Your First Bank Account</h4>
<p>In order to do anything in the nanopay system, you will need to add money to your account. In order to get money into your 
   account you will need to "cash in". One way to do this is by adding a bank account and then transfering funds from the bank
   account into your digital account. So let us start this process by creating a bank account.
   </p>
<foam class="foam.doc.DigPutView" data="accountDAO" samplepayload="{ 'name'='my_name', 'email'='my_email' }" />
<p><i>Default digital account</i></p>
<p><i>Digital accounts for other currencies</i></p>
<p><i>Adding and verifying bank accounts</i></p>
<p><i>Cash in from bank account</i></p>
<p><i>Cash out to bank account</i></p>