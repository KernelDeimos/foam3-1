<title>Alarm Documentation</title>

<h1>Alarm Documentation</h1>

<h2>Introduction</h2>
<p>
  Alarm system was designed in order to create dashboard with all endpoints.
  The dashboard would show endpoints status and graph of their OMs(OM - is a counter
  which shows how often specific name was occurred during some period).

  When alarm going off we can send email and highlight it on dashboard.
</p>

<h2>Usage</h2>
<p>
  There are two ways of using Alarms:
</p>
<table>
  <tbody>
    <tr>
      <td>PM</td>
      <td>
        Use put() method on PMDAO and set pm.isError property to true.
        This will trigger alarm creation with pm.key as a name for it.
      </td>
    </tr>
    <tr>
      <td>Directly using Alarm</td>
      <td>
        Create new Alarm and add it to AlarmDAO.
      </td>
    </tr>
  </tbody>
</table>
<p>
  All existing alarm configs stored at alarmConfigDAO. Every time new alarm created we check alarmConfigDAO and
  add new name, if it is not already exists. This way we can track for all errors/alarms that our system creates.
</p>

<h1>Code Examples</h1>

<h3>PM</h3>
<code>
  DAO pmDAO = (DAO) x.get("pmDAO");
  PM pm = new PM("pm Key", "pm Name");
  pm.setIsError(true);
  pm.log(x);
  pm = (PM) pmDAO.put(pm);
</code>

<h3>Alarm</h3>
<code>
  Alarm alarm = new Alarm.Builder(x).setName("Alarm name").setReason(AlarmReason.TIMEOUT).build();
  DAO alarmDAO = (DAO) alarmDAO.put(alarm);
</code>

