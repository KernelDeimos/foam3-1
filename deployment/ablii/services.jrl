p({
  "class":"foam.nanos.boot.NSpec",
  "name":"appConfig",
  "lazy":false,
  "parameters":false,
  "service": {
    "class":"foam.nanos.app.AppConfig",
    "privacyUrl":"/service/file/d6a408c6-587d-b00f-6e04-6a4b933f7495",
    "copyright":"Copyright Â© 2017-@{currentYear} nanopay Corp. All rights reserved.",
    "termsAndCondLabel":"Terms and Conditions",
    "termsAndCondLink":"/service/file/1f406b9b-bde4-58ff-f171-657627581f61",
    "urlLabel":"Powered by nanopay",
    "url":"http://ablii:8080",
    "defaultSpid":"ablii",
    "mode":0
  }
})

p({
  "class":"foam.nanos.boot.NSpec",
  "name":"abliiEmailConfig",
  "lazy":false,
  "service":
    {
      "class":"foam.nanos.app.EmailConfig",
      "from":"noreply@ablii.com",
      "displayName":"Ablii",
      "replyTo":"noreply@ablii.com"
    }
})

p({
  class: "foam.nanos.boot.NSpec",
  name: "emailConfig",
  lazy: true,
  service: null,
  serviceScript: """
    import foam.mlang.predicate.ContextUserPredicate;
    import foam.nanos.auth.User;
    import foam.mlang.MLang;

    emailConfig = new foam.nanos.boot.AltFactory("nanopayEmailConfig");
    emailConfig.addDelegate(new ContextUserPredicate(MLang.EQ(User.SPID, "nanopay")), "nanopayEmailConfig");
    emailConfig.addDelegate(new ContextUserPredicate(MLang.EQ(User.SPID, "ablii")), "abliiEmailConfig");
    return emailConfig;
  """
})