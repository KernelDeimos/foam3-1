
p({"class":"foam.nanos.script.CsvUploadScript","id":"CSVUploadTest","status":2,"output":""})
p({"class":"foam.nanos.script.CsvUploadScript","id":"CSVUploadTest","lastRun":"2019-08-14T16:42:05.265Z","lastDuration":313,"status":1,"output":"\njava.lang.RuntimeException: java.lang.RuntimeException: File does not exist\n\tat foam.blob.BlobStore.find_(BlobStore.java:455)\n\tat foam.blob.AbstractBlobService.find(AbstractBlobService.java:21)\n\tat foam.blob.IdentifiedBlob.DelegateFactory_(IdentifiedBlob.java:265)\n\tat foam.blob.IdentifiedBlob.getDelegate(IdentifiedBlob.java:247)\n\tat foam.blob.ProxyBlob.getSize(ProxyBlob.java:136)\n\tat foam.lib.parse.BlobPStream.valid(BlobPStream.java:699)\n\tat foam.lib.parse.Literal.parse(Literal.java:39)\n\tat foam.lib.parse.BlobPStream.apply(BlobPStream.java:726)\n\tat foam.lib.parse.Seq1.parse(Seq1.java:35)\n\tat foam.lib.parse.BlobPStream.apply(BlobPStream.java:726)\n\tat foam.lib.parse.Alt.parse(Alt.java:39)\n\tat foam.lib.parse.BlobPStream.apply(BlobPStream.java:726)\n\tat foam.lib.parse.Join.parse(Join.java:15)\n\tat foam.lib.parse.BlobPStream.apply(BlobPStream.java:726)\n\tat foam.lib.parse.Repeat.parse(Repeat.java:68)\n\tat foam.lib.parse.CSVParser$1.parse(CSVParser.java:50)\n\tat foam.lib.parse.ProxyParser.parse(ProxyParser.java:133)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n\tat java.lang.reflect.Method.invoke(Method.java:498)\n\tat bsh.Reflect.invokeMethod(Reflect.java:131)\n\tat bsh.Reflect.invokeObjectMethod(Reflect.java:77)\n\tat bsh.Name.invokeMethod(Name.java:852)\n\tat bsh.BSHMethodInvocation.eval(BSHMethodInvocation.java:69)\n\tat bsh.BSHPrimaryExpression.eval(BSHPrimaryExpression.java:96)\n\tat bsh.BSHPrimaryExpression.eval(BSHPrimaryExpression.java:41)\n\tat bsh.Interpreter.eval(Interpreter.java:659)\n\tat bsh.Interpreter.eval(Interpreter.java:750)\n\tat bsh.Interpreter.eval(Interpreter.java:739)\n\tat foam.nanos.script.Script.runScript(Script.java:1282)\n\tat foam.nanos.script.ScriptRunnerDAO$1.execute(ScriptRunnerDAO.java:58)\n\tat foam.nanos.pool.ThreadPoolAgency$ContextAgentRunnable.run(ThreadPoolAgency.java:45)\n\tat java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)\n\tat java.util.concurrent.FutureTask.run(FutureTask.java:266)\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\n\tat java.lang.Thread.run(Thread.java:748)\nCaused by: java.lang.RuntimeException: File does not exist\n\tat foam.blob.BlobStore.find_(BlobStore.java:446)\n\t... 37 more\n"})
p({"class":"foam.nanos.script.CsvUploadScript","id":"CSVUploadTest","csv":{"class":"foam.nanos.fs.File","id":"32689710-0c4e-cb09-aef7-92656a497e62","filename":"Users.csv","filesize":97,"mimeType":"text/csv","data":{"class":"foam.blob.IdentifiedBlob","id":"0a7b50d4d8f3fd8f9033fd2c3760861c314bf935e99ecc4714a448b8f2852719"}},"status":2,"output":""})
p({"class":"foam.nanos.script.CsvUploadScript","id":"CSVUploadTest","lastRun":"2019-08-14T16:42:19.303Z","lastDuration":33,"status":1,"output":"id: 0, enabled: true, loginEnabled: true, lastLogin: null, firstName: Mike, middleName: , lastName: C, legalName: Mike C, organization: , department: , email: , emailVerified: false, phone: number: 123-123-1234, verified: true, phoneNumber: , mobile: null, type: User, birthday: null, profilePicture: null, address: null, language: en, timeZone: , desiredPassword: , password: , previousPassword: , passwordLastModified: null, passwordExpiry: null, note: , businessName: , bankIdentificationCode: , businessHoursEnabled: false, disabledTopics: [Ljava.lang.String;@20bb175c, disabledTopicsEmail: [Ljava.lang.String;@40eda3b2, website: , created: null, lastModified: null, loginAttempts: 0, isPublic: true, nextLoginAttemptAllowedAt: Wed Aug 14 12:42:19 EDT 2019, businessTypeId: 0, businessSectorId: 0, invited: false, invitedBy: 0, previousStatus: PENDING, status: PENDING, questionnaire: null, additionalDocuments: [Lfoam.nanos.fs.File;@11d1f3ed, principalOwners: [Lfoam.nanos.auth.User;@386d19b5, jobTitle: , welcomeEmailSent: false, portalAdminCreated: false, businessPhone: null, businessIdentificationNumber: , businessRegistrationNumber: , issuingAuthority: , businessRegistrationAuthority: , countryOfBusinessRegistration: , businessRegistrationDate: null, businessAddress: null, businessProfilePicture: null, onboarded: false, createdPwd: false, inviteAttempts: 0, operatingBusinessName: , holdingCompany: false, thirdParty: false, identification: null, PEPHIORelated: false, suggestedUserTransactionInfo: null, targetCustomers: , sourceOfFunds: , taxIdentificationNumber: , signUpToken: , deleted: false, internationalPaymentEnabled: false, deviceToken: , personalTheme: 0, twoFactorEnabled: false, twoFactorSecret: , lastModifiedBy: 0, createdBy: 0, spid: , group: , transactionLimits: [Lnet.nanopay.tx.model.TransactionLimit;@4094e813, integrationCode: NONE, hasIntegrated: false, compliance: NOTREQUESTED\nid: 0, enabled: true, loginEnabled: true, lastLogin: null, firstName: Adam, middleName: , lastName: V, legalName: Adam V, organization: , department: , email: , emailVerified: false, phone: number: 987-987-9876, verified: false, phoneNumber: , mobile: null, type: User, birthday: null, profilePicture: null, address: null, language: en, timeZone: , desiredPassword: , password: , previousPassword: , passwordLastModified: null, passwordExpiry: null, note: , businessName: , bankIdentificationCode: , businessHoursEnabled: false, disabledTopics: [Ljava.lang.String;@2369f438, disabledTopicsEmail: [Ljava.lang.String;@44da5436, website: , created: null, lastModified: null, loginAttempts: 0, isPublic: true, nextLoginAttemptAllowedAt: Wed Aug 14 12:42:19 EDT 2019, businessTypeId: 0, businessSectorId: 0, invited: false, invitedBy: 0, previousStatus: PENDING, status: PENDING, questionnaire: null, additionalDocuments: [Lfoam.nanos.fs.File;@60ab3a1e, principalOwners: [Lfoam.nanos.auth.User;@5cd466d7, jobTitle: , welcomeEmailSent: false, portalAdminCreated: false, businessPhone: null, businessIdentificationNumber: , businessRegistrationNumber: , issuingAuthority: , businessRegistrationAuthority: , countryOfBusinessRegistration: , businessRegistrationDate: null, businessAddress: null, businessProfilePicture: null, onboarded: false, createdPwd: false, inviteAttempts: 0, operatingBusinessName: , holdingCompany: false, thirdParty: false, identification: null, PEPHIORelated: false, suggestedUserTransactionInfo: null, targetCustomers: , sourceOfFunds: , taxIdentificationNumber: , signUpToken: , deleted: false, internationalPaymentEnabled: false, deviceToken: , personalTheme: 0, twoFactorEnabled: false, twoFactorSecret: , lastModifiedBy: 0, createdBy: 0, spid: , group: , transactionLimits: [Lnet.nanopay.tx.model.TransactionLimit;@30708141, integrationCode: NONE, hasIntegrated: false, compliance: NOTREQUESTED\n"})
p({"class":"foam.nanos.script.CsvUploadScript","id":"CSVUploadTest","csv":{"class":"foam.nanos.fs.File","id":"03ad3af4-de9e-e83a-cb57-ce238f89df1d","filename":"GS.csv","filesize":2057,"mimeType":"text/csv","data":{"class":"foam.blob.IdentifiedBlob","id":"b063d61ba051f6e125e494ac36233bfecd30482ca4e808e0b5e685702c11d72c"}},"status":2,"output":""})
p({"class":"foam.nanos.script.CsvUploadScript","id":"CSVUploadTest","lastRun":"2019-08-14T16:42:54.742Z","lastDuration":28,"status":1})
p({"class":"foam.nanos.script.CsvUploadScript","id":"CSVUploadTest","status":2,"code":"import foam.lib.parse.*;\n\n// ps = new foam.lib.parse.StringPStream(new StringBuilder()\n//   .append(\"firstName,lastName,phone.number,phone.verified\\n\")\n//   .append(\"Mike,C,123-123-1234,true\\n\")\n//   .append(\"Adam,V,987-987-9876,false\")\n//   .toString());\nps = new foam.lib.parse.BlobPStream.Builder(x)\n  .setBlob(currentScript.getCsv().getData())\n  .build();\n\npx = new foam.lib.parse.ParserContextImpl();\npx.set(\"X\", x);\n\ncsvParser = new CSVParser(foam.nanos.auth.User.getOwnClassInfo(),\n  new foam.dao.AbstractSink() {\n    public void put(Object o, foam.core.Detachable sub) {\n      print(o.toString());\n    }\n  }\n);\n\nprint(\"Start\");\ncsvParser.parse(ps, px);\nprint(\"End\");"})
p({"class":"foam.nanos.script.CsvUploadScript","id":"CSVUploadTest","lastRun":"2019-08-14T16:43:53.386Z","lastDuration":29,"status":1,"output":"Start\nEnd\n"})
p({"class":"foam.nanos.script.CsvUploadScript","id":"CSVUploadTest","status":2,"code":"import foam.lib.parse.*;\n\nps = new foam.lib.parse.BlobPStream.Builder(x)\n  .setBlob(currentScript.getCsv().getData())\n  .build();\n\npx = new foam.lib.parse.ParserContextImpl();\npx.set(\"X\", x);\n\ncsvParser = new CSVParser(net.nanopay.tx.gs.GsTxCsvRow.getOwnClassInfo(),\n  new foam.dao.AbstractSink() {\n    public void put(Object o, foam.core.Detachable sub) {\n      print(o.toString());\n    }\n  }\n);\n\nprint(\"Start\");\ncsvParser.parse(ps, px);\nprint(\"End\");","output":""})
p({"class":"foam.nanos.script.CsvUploadScript","id":"CSVUploadTest","lastRun":"2019-08-14T16:44:29.147Z","lastDuration":133,"status":1,"output":"nothing outputted.."})

