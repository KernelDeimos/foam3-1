p({
  class:"foam.nanos.test.Test",
  id:"DaoWAOTest",
  description: "Unit test for DAO Wizardlet Access Object",
  language: 0,
  code:"""
    async function execute(x) {
      try {
        console.info('start');
      
        // CASE: 1 - SAVE FOBJECT AS DATA (NO PATH)
        dw = foam.u2.wizard.DAOWizardlet.create({ of: foam.nanos.auth.User }, x);
        
        dw.data.email = 'francis@filth.com'
        dw.data.userName = 'francis'
        dw.data.group = 'sme'

        u = dw.save();

        if ( u && u.id ) {
          test(true, 'successful DAOWAO save, user id: ' + u.id);
        }
        else {
          test(false, 'failed DAOWAO save');
        }
       
        // CASE: 2 - LOAD FOBJECT AS DATA (NO PATH)
        dw = foam.u2.wizard.DAOWizardlet.create({ of: foam.nanos.auth.User }, x);

        // set it for loading
        dw.data.id = u.id;

        dw.load();

        if ( dw.data.email === 'francis@filth.com' ) {
          test(true, 'successful DAOWAO load');
        }
        else {
          test(false, 'failed DAOWAO load');
        }

        // CASE: 3 - SAVE DATA WITH NESTED FOBJECT (WITH PATH)

        // CASE: 4 - LOAD DATA WITH NESTED FOBJECT (WITH PATH)

        // Case: 5 - 
      
      } catch (e) {
        console.error(e.message || e);
      }
    }

    await execute(x);
    console.info('done');
  """
})