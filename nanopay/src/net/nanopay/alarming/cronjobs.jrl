p({"class":"foam.nanos.cron.Cron","schedule":{"class":"foam.nanos.cron.CronSchedule","minute":-1,"hour":-1,"dayOfMonth":-1,"month":-1,"dayOfWeek":-1,"second":0},"scheduledTime":"2019-09-09T16:56:00.000Z","enabled":true,"id":"Alarming and Monitoring","lastRun":"2019-09-09T16:55:32.134Z","lastDuration":301,"code":"import net.nanopay.alarming.MonitoringReport;\nimport net.nanopay.alarming.AlarmConfig;\nimport foam.mlang.MLang;\n\nalarmConfigDAO = x.get(\"alarmConfigDAO\");\nmonitorReportDAO = x.get(\"monitoringReportDAO\");\nalarms = alarmConfigDAO.select().getArray();\nfor ( alarm : alarms ) {\nMonitoringReport report = (MonitoringReport) monitorReportDAO.find(MLang.EQ(MonitoringReport.NAME, alarm.getName()));\nif ( report == null ) {\nreport = new MonitoringReport();\nreport.setName(alarm.getName());\n}\nmonitorReportDAO.put(report.fclone());\n}\nprint(\"done\");","output":"done\n"})
