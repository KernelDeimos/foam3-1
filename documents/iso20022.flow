<h2 id="iso20022">ISO 20022</h2>
<h4 id="overview">Overview</h4>
<p>ISO 20022 is a multi part International Standard prepared by ISO Technical Committee TC68 Financial Services. It
  describes a common platform for the development of messages using:</p>
<ul>
  <li>a modelling methodology to capture in a syntax-independent way financial business areas, business transactions and
    associated message flows;
  </li>
  <li>a central dictionary of business items used in financial communications;</li>
  <li>a set of XML and ASN.1 design rules to convert the message models into XML or ASN.1 schemas, whenever the use of
    the ISO 20022 XML or ASN.1-based syntax is preferred.
  </li>
</ul>
<h4 id="modelgeneration">Model Generation</h4>
<h4 id="overview-1">Overview</h4>
<p>Using FOAM we are able to model the entire ISO 20022 message repository. Through the use of scripts, we have the
  ability to parse XSD schema files (freely available <a href="https://www.iso20022.org/full_catalogue.page">here</a>)
  to generate FOAM models. These models are complete with full documentation, full and short names and property level
  validation. This greatly reduces the pain of having to model each message by hand which would otherwise be a very
  tedious property.</p>
<h4 id="dependencies">Dependencies</h4>
<p>The XSD parser &amp; model generator script use node.js and require the following packages:</p>
<ul>
  <li>json-stringify-pretty-compact: ^1.0.4</li>
  <li>mkdir: ^0.5.1</li>
  <li>underscore: ^1.8.3</li>
  <li>xmldom : ^0.1.27</li>
</ul>
<h4 id="usage">Usage</h4>
<p>To generate FOAM models from an XSD file by invoking the following command in the top level project directory
  (NANOPAY/):</p>
<code>node tools/xsd/index.js <package> <files>...</code>
<p>It will look for XSD files in the following directory. Providing a fully qualified path will not work.</p>
<code>NANOPAY/tools/xsd/messages</code>
<p>Two additional files are created as a byproduct of the script:</p>
<ul>
  <li><b>classes.js</b>: allows for seamless integration into our Java code generation scripts.</li>
  <li><b>files.js</b>: allows us to use the model on the web client.</li>
</ul>
<p><strong>Example</strong></p>
<code>node tools/xsd/index.js net.nanopay.iso20022 \
    pacs.002.001.09.xsd \
    pacs.008.001.06.xsd \
    pacs.028.001.01.xsd \
    pain.007.001.07.xsd \
    tsin.004.001.01.xsd</code>
<p>The above script will generate all of the models (as well as classes.js and files.js) in the following directory:</p>
<code>NANOPAY/nanopay/src/net/nanopay/iso20022</code>
